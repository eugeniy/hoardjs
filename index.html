<!doctype html>
<html>
<head>
<title>Hoard</title>
<link rel="stylesheet" href="vendor/bootstrap/css/bootstrap.min.css">
</head>
<body>

<div id="hoard"></div>

<script type="text/template" id="application-template">
    <div class="container">
        <div class="content">
            <div class="row">
                <div id="reservations" class="span12"></div>
            </div>
            <div class="row">
                <div id="resources" class="span12"></div>
            </div>
        </div>
    </div>
    <div id="reservation-form"></div>
    <div id="resource-form"></div>
</script>

<script type="text/template" id="resources-template">
<table class="table table-striped table-bordered table-condensed">
    <thead>
    <tr>
        <th class="status"></td>
        <th class="name" colspan="2">Resource</td>
        <th class="address">Address</td>
    </tr>
    </thead>
    <tbody></tbody>
</table>
</script>

<script type="text/template" id="resource-template">
    <td class="status"><span class="label label-success">OK</span></td>
    <td class="name"><%= name %></td>
    <td class="description"><%= typeof(description) !== 'undefined' ? description : '' %></td>
    <td class="address"></td>
</script>

<script type="text/template" id="reservations-template">
<table class="table table-striped table-bordered table-condensed">
    <tbody></tbody>
</table>
</script>

<script type="text/template" id="reservation-template">
    <td class="name"><%= resource %></td>
    <td class="date"><%= start_at.toFormat('MM/DD/YYYY HH24:MI') %> to <%= end_at.toFormat('MM/DD/YYYY HH24:MI') %></td>
    <td class="actions">
        <div class="btn-group">
            <button class="btn btn-small">Change</button>
            <button class="btn btn-danger btn-small">
                <i class="icon-trash icon-white"></i>
                Delete</button>
        </div>
    </td>
</script>

<script type="text/template" id="reservation-form-template">
    <div class="modal-header">
        <a class="close" data-dismiss="modal">&times;</a>
        <h3><%= resource.name %></h3>
    </div>
    <div class="modal-body">
        <label>Date range</label>
        <input name="start_at_date" value="<%= reservation.get('start_at').toFormat('MM/DD/YYYY') %>" class="span2">
        <input name="start_at_time" value="<%= reservation.get('start_at').toFormat('HH24:MI') %>" class="span1">
            to
        <input name="end_at_time" value="<%= reservation.get('end_at').toFormat('HH24:MI') %>" class="span1">
        <input name="end_at_date" value="<%= reservation.get('end_at').toFormat('MM/DD/YYYY') %>" class="span2">
    </div>
    <div class="modal-footer">
        <input type="hidden" name="resource" value="<%= resource.name %>">
        <input type="submit" value="Reserve" class="btn btn-primary">
        <button class="btn" data-dismiss="modal">Discard</button>
    </div>
</script>


<script src="vendor/jquery-1.7.1.min.js"></script>
<script src="vendor/underscore-min.js"></script>
<script src="vendor/backbone-min.js"></script>
<script src="vendor/bootstrap/js/bootstrap.min.js"></script>
<script src="vendor/date-utils.min.js"></script>
<script src="lib/hoard.js"></script>
<script>
$(function() {
    var hoard = new Hoard.views.Application;
    $('#hoard').append(hoard.render().el);
    Hoard.resources.fetch();
    Hoard.reservations.fetch();
});
</script>
</body>
</html>
